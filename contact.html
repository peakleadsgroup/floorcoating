<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | Peak Floor Coating</title>
  <link rel="icon" type="image/x-icon" href="https://github.com/peakleadsgroup/floorcoating/blob/main/images/PeakFavicon.jpg?raw=true">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Arial', sans-serif; line-height:1.6; color:#333; background:#f8f9fa; }

    /* Shared styles from homepage */
    .header { background:white; padding:1rem 0; box-shadow:0 2px 10px rgba(0,0,0,0.1); position:sticky; top:0; z-index:1000; }
    .nav-container { max-width:1400px; margin:0 auto; display:flex; justify-content:center; align-items:center; padding:0 2rem; position:relative; }
    .nav-container > a { text-decoration:none; display:inline-block; position:absolute; left:2rem; }
    .logo { height:50px; }
    .nav-links { display:flex; list-style:none; gap:2rem; align-items:center; }
    .nav-links a { text-decoration:none; color:#1a365d; font-weight:600; font-size:0.95rem; transition:color .3s; }
    .nav-links a:hover { color:#f97316; }
    .nav-right { position:absolute; right:2rem; display:flex; align-items:center; gap:1.5rem; }
    .nav-phone { color:#1a365d; font-weight:700; font-size:1rem; text-decoration:none; }
    .cta-btn { background:#f97316; color:#fff!important; padding:.75rem 1.5rem; border-radius:6px; text-decoration:none; font-weight:700; transition:background .3s; display:inline-block; }
    .cta-btn:hover { background:#ea580c; }

    .page-hero {
      background:linear-gradient(rgba(26,54,93,0.85), rgba(26,54,93,0.85)), url('https://github.com/peakleadsgroup/floorcoating/blob/main/images/1-HomePage.png?raw=true');
      background-size:cover;
      background-position:center;
      color:white;
      text-align:center;
      padding:4rem 1.5rem 3rem;
    }
    .page-hero-container { max-width:800px; margin:0 auto; }
    .page-hero h1 { font-size:2.8rem; margin-bottom:1rem; }
    .page-hero p { font-size:1.1rem; opacity:0.95; }

    .contact-section {
      padding:3rem 1.5rem 4rem;
      background:#f8f9fa;
    }
    .contact-container {
      max-width:800px;
      margin:0 auto;
      background:white;
      padding:2.5rem 2.5rem 3rem;
      border-radius:16px;
      box-shadow:0 6px 30px rgba(0,0,0,0.08);
    }
    .contact-heading {
      margin-bottom:2rem;
      text-align:left;
    }
    .contact-heading h2 {
      font-size:2rem;
      margin-bottom:0.5rem;
      color:#1a365d;
    }
    .contact-heading p {
      color:#666;
      font-size:0.98rem;
    }

    form { display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; }
    .form-group { display:flex; flex-direction:column; gap:0.4rem; }
    .form-group.full-width { grid-column:1 / -1; }
    label {
      font-weight:600;
      font-size:0.95rem;
      color:#1a365d;
    }
    label span.required {
      color:#f97316;
      margin-left:2px;
    }
    input, select, textarea {
      padding:0.7rem 0.85rem;
      border-radius:6px;
      border:1px solid #d1d5db;
      font-size:0.95rem;
      transition:border-color .2s, box-shadow .2s;
      font-family:inherit;
    }
    input:focus, select:focus, textarea:focus {
      outline:none;
      border-color:#f97316;
      box-shadow:0 0 0 2px rgba(249,115,22,0.15);
    }
    .help-text {
      font-size:0.8rem;
      color:#6b7280;
    }

    .submit-row {
      grid-column:1 / -1;
      margin-top:0.5rem;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:1rem;
    }
    .submit-row .cta-btn {
      font-size:1rem;
      padding:0.85rem 2.2rem;
      border:none;
      cursor:pointer;
    }
    button.cta-btn {
      border:none;
      cursor:pointer;
    }
    .submit-note {
      font-size:0.75rem;
      color:#6b7280;
      text-align:center;
      max-width:500px;
    }

    .footer-note {
      text-align:center;
      font-size:0.85rem;
      color:#9ca3af;
      padding:1.5rem 1rem 2rem;
    }

    @media (max-width:768px) {
      .nav-container {
        justify-content:space-between;
        padding:0 1rem;
      }
      .nav-container > a {
        position:static;
      }
      .logo {
        height:40px;
      }
      .nav-links {
        display:none;
      }
      .nav-right {
        position:static;
        gap:0.75rem;
      }
      .nav-phone {
        display:none;
      }

      .page-hero {
        padding:3.5rem 1.25rem 2.5rem;
      }
      .page-hero h1 { font-size:2.3rem; }
      .page-hero p { font-size:1rem; }

      .contact-container {
        padding:2rem 1.5rem 2.5rem;
      }
      form {
        grid-template-columns:1fr;
      }
      .submit-row {
        flex-direction:column;
        align-items:center;
      }
      .submit-row .cta-btn {
        width:100%;
        text-align:center;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation (copied from index.html for a perfect match) -->
  <header class="header">
    <div class="nav-container">
      <a href="index.html">
        <img src="https://github.com/peakleadsgroup/floorcoating/blob/main/images/PeakFloorCoating-1000x250-NoBack.png?raw=true" alt="Peak Floor Coating" class="logo">
      </a>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html#home">Home</a></li>
          <li><a href="index.html#services">Services</a></li>
          <li><a href="index.html#gallery">Gallery</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <div class="nav-right">
        <a href="tel:9193634740" class="nav-phone">(919) 363-4740</a>
        <a href="contact.html" class="cta-btn">Get Free Quote</a>
      </div>
    </div>
  </header>

  <!-- Page Hero -->
  <section class="page-hero">
    <div class="page-hero-container">
      <h1>Request Your Free Floor Coating Quote</h1>
      <p>Tell us a bit about your project and a Peak Floor Coating specialist will follow up within 24 hours.</p>
    </div>
  </section>

  <!-- Contact Form -->
  <section class="contact-section">
    <div class="contact-container">
      <div class="contact-heading">
        <h2>Tell Us About Your Project</h2>
        <p>Complete the form below and we’ll provide a personalized quote and recommendations for your space.</p>
      </div>
      <form>
        <div class="form-group">
          <label for="first-name">First Name<span class="required">*</span></label>
          <input type="text" id="first-name" name="first-name" required autocomplete="given-name" />
        </div>
        <div class="form-group">
          <label for="last-name">Last Name<span class="required">*</span></label>
          <input type="text" id="last-name" name="last-name" required autocomplete="family-name" />
        </div>

        <div class="form-group">
          <label for="phone">Phone<span class="required">*</span></label>
          <input
            type="tel"
            id="phone"
            name="phone"
            required
            inputmode="numeric"
            pattern="\\d{10}"
            placeholder="10-digit phone number"
          />
          <div class="help-text">Enter numbers only, no dashes or spaces.</div>
        </div>

        <div class="form-group">
          <label for="email">Email<span class="required">*</span></label>
          <input
            type="email"
            id="email"
            name="email"
            required
            pattern=".+@.+"
            placeholder="you@example.com"
            autocomplete="email"
          />
        </div>

        <div class="form-group">
          <label for="zip">Zip Code<span class="required">*</span></label>
          <input
            type="text"
            id="zip"
            name="zip"
            required
            inputmode="numeric"
            pattern="\\d{5}"
            placeholder="5-digit ZIP"
          />
        </div>

        <div class="form-group">
          <label for="project-type">Project Type<span class="required">*</span></label>
          <select id="project-type" name="project-type" required>
            <option value="">Select a project type</option>
            <option value="Garage">Garage</option>
            <option value="Patio">Patio</option>
            <option value="Deck">Deck</option>
            <option value="Driveway">Driveway</option>
            <option value="Basement">Basement</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-group full-width">
          <label for="details">Project Details (Optional)</label>
          <textarea id="details" name="details" rows="4" placeholder="Tell us about your space, size, and any timing considerations."></textarea>
        </div>

        <div class="submit-row">
          <button type="submit" class="cta-btn">Get Your Free Quote</button>
          <p class="submit-note">
            By submitting this form, you agree to be contacted by Peak Floor Coating by phone, text, or email regarding your project.
          </p>
        </div>
      </form>
    </div>
  </section>

  <div class="footer-note">
    © 2025 Peak Floor Coating. All rights reserved.
  </div>

  <script>
    // Lead Webhook URL for Make.com
    const LEAD_WEBHOOK_URL = 'https://hook.us2.make.com/wthekedj3kpv92we2utevbn114114mct';

    /**
     * Format phone number for display
     */
    function formatPhoneForDisplay(phone) {
      if (!phone) return '';
      const digits = phone.replace(/\D/g, '');
      if (digits.length === 10) {
        return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;
      }
      return phone;
    }

    /**
     * Format lead data as HTML summary
     */
    function formatLeadAsHTML(leadData) {
      const timestamp = new Date().toLocaleString('en-US', {
        dateStyle: 'full',
        timeStyle: 'long'
      });
      
      let html = `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
            h1 { color: #1a365d; border-bottom: 3px solid #f97316; padding-bottom: 10px; }
            .lead-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .info-row { margin: 10px 0; padding: 8px 0; border-bottom: 1px solid #e0e0e0; }
            .info-label { font-weight: bold; color: #1a365d; display: inline-block; min-width: 150px; }
            .info-value { color: #666; }
            .timestamp { color: #999; font-size: 0.9em; margin-top: 20px; }
          </style>
        </head>
        <body>
          <h1>New Lead Submission</h1>
          <div class="lead-info">
      `;
      
      // Add all available fields
      if (leadData.first_name || leadData.firstName) {
        html += `<div class="info-row"><span class="info-label">First Name:</span><span class="info-value">${leadData.first_name || leadData.firstName || 'N/A'}</span></div>`;
      }
      if (leadData.last_name || leadData.lastName) {
        html += `<div class="info-row"><span class="info-label">Last Name:</span><span class="info-value">${leadData.last_name || leadData.lastName || 'N/A'}</span></div>`;
      }
      if (leadData.email) {
        html += `<div class="info-row"><span class="info-label">Email:</span><span class="info-value"><a href="mailto:${leadData.email}">${leadData.email}</a></span></div>`;
      }
      if (leadData.phone) {
        const formattedPhone = formatPhoneForDisplay(leadData.phone);
        html += `<div class="info-row"><span class="info-label">Phone:</span><span class="info-value"><a href="tel:${leadData.phone}">${formattedPhone}</a></span></div>`;
      }
      if (leadData.zip || leadData.zipCode) {
        html += `<div class="info-row"><span class="info-label">Zip Code:</span><span class="info-value">${leadData.zip || leadData.zipCode || 'N/A'}</span></div>`;
      }
      if (leadData.project_type || leadData.projectType) {
        html += `<div class="info-row"><span class="info-label">Project Type:</span><span class="info-value">${leadData.project_type || leadData.projectType || 'N/A'}</span></div>`;
      }
      if (leadData.details || leadData.projectDetails) {
        html += `<div class="info-row"><span class="info-label">Project Details:</span><span class="info-value">${leadData.details || leadData.projectDetails || 'N/A'}</span></div>`;
      }
      if (leadData.source) {
        html += `<div class="info-row"><span class="info-label">Source:</span><span class="info-value">${leadData.source}</span></div>`;
      }
      if (leadData.form_type) {
        html += `<div class="info-row"><span class="info-label">Form Type:</span><span class="info-value">${leadData.form_type}</span></div>`;
      }
      
      html += `
          </div>
          <div class="timestamp">Submitted: ${timestamp}</div>
        </body>
        </html>
      `;
      
      return html;
    }

    /**
     * Send lead webhook to Make.com
     */
    async function sendLeadWebhook(leadData) {
      try {
        const htmlSummary = formatLeadAsHTML(leadData);
        const payload = {
          html: htmlSummary,
          lead_data: leadData,
          timestamp: new Date().toISOString()
        };
        
        console.log('Sending lead webhook to:', LEAD_WEBHOOK_URL);
        
        await fetch(LEAD_WEBHOOK_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload),
          mode: 'no-cors'
        });
        
        console.log('Lead webhook sent successfully');
      } catch (error) {
        console.error('Error sending lead webhook:', error);
      }
    }

    // Handle form submission
    document.querySelector('form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Get form values
      const firstName = document.getElementById('first-name').value.trim();
      const lastName = document.getElementById('last-name').value.trim();
      const phone = document.getElementById('phone').value.replace(/\D/g, '');
      const email = document.getElementById('email').value.trim();
      const zip = document.getElementById('zip').value.trim();
      const projectType = document.getElementById('project-type').value;
      const details = document.getElementById('details').value.trim();
      
      // Prepare lead data
      const leadData = {
        first_name: firstName,
        last_name: lastName,
        phone: phone,
        email: email,
        zip: zip,
        project_type: projectType,
        details: details,
        source: 'Contact Form',
        form_type: 'contact_form'
      };
      
      // Send webhook
      sendLeadWebhook(leadData);
      
      // Redirect to post-submit page
      window.location.href = 'post-submit.html';
    });
  </script>
</body>
</html>


